<h1>My Checklists</h1>

<a href="/checklist/new" class="btn">Add New Checklist</a>

<% if @checklists.any? %>
  <table class="checklists-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Items</th>
        <th>Completed</th>
      </tr>
    </thead>
    <tbody>
      <% @checklists.each do |checklist| %>
        <tr>
          <td><%= checklist.id %></td>
          <td>
            <a href="/checklist/<%= checklist.id %>"><%= checklist.name %></a>
          </td>
          <td>
            <%= checklist.total_items_count %>
          </td>
          <td>
            <%= "#{checklist.completed_items_count}/#{checklist.total_items_count}" %>
            (<%= checklist.completion_percentage %>%)
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
<div class="pagination" style="margin: 18px 0 10px 0; text-align: center;">
    <% if @page > 1 %>
      <a href="/want?page=<%= @page - 1 %>" class="btn">Previous</a>
    <% else %>
      <span class="btn" style="opacity:0.5;cursor:default;">Previous</span>
    <% end %>
    Page <%= @page %> of <%= @total_pages %>
    <% if @page < @total_pages %>
      <a href="/want?page=<%= @page + 1 %>" class="btn">Next</a>
    <% else %>
      <span class="btn" style="opacity:0.5;cursor:default;">Next</span>
    <% end %>
  </div>
<% else %>
  <p>You don't have any checklists yet. Click "Add New Checklist" to create one.</p>
<% end %>
